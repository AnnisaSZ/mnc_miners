<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="wbs_signup_fields" name="WBS Sign Up">
        <div class="form-group text-justify">
            <span style="font-size:11px" class="text-muted text-justify">Please be advised that <Strong>registration is only available for WBS accounts.</Strong> If you do not have an MNC Miners account, please contact the administrator.</span>
        </div>
        <div class="form-group field-login">
            <label for="login">Your Email</label>
            <input type="text" name="login" t-att-value="login" id="login" class="form-control form-control-sm" autofocus="autofocus"
                autocapitalize="off" required="required" t-att-readonly="'readonly' if only_passwords else None"/>
        </div>
        <div class="form-group field-name">
            <label for="name">Your Name</label>
            <input type="text" name="name" t-att-value="name" id="name" class="form-control form-control-sm" placeholder="e.g. John Doe"
                required="required" t-att-readonly="'readonly' if only_passwords else None"
                t-att-autofocus="'autofocus' if login and not only_passwords else None" />
        </div>
        <div class="form-group field-password pt-2">
            <label for="password">Password</label>
            <input type="password" name="password" id="password" class="form-control form-control-sm"
                required="required" t-att-autofocus="'autofocus' if only_passwords else None"/>
        </div>
        <div class="form-group field-confirm_password">
            <label for="confirm_password">Confirm Password</label>
            <input type="password" name="confirm_password" id="confirm_password" class="form-control form-control-sm" required="required"/>
        </div>
        <div class="form-group field-phone">
            <label for="phone">Phone Number</label>
            <input type="tel" name="phone" t-att-value="phone" id="phone" class="form-control form-control-sm" autofocus="autofocus"
                autocapitalize="off" required="required" t-att-readonly="'readonly' if only_passwords else None"/>
        </div>
        <div class="form-group field-company">
            <label for="company">Company</label>
            <select name="company" t-att-value="company" id="company" class="form-control form-control-sm" autofocus="autofocus" autocapitalize="off" required="required" t-att-readonly="'readonly' if only_passwords else None">
                <option value="" class="disabled selected">Please Choose...</option>
                <option value="Bhumi Sriwijaya Perdana Coal">Bhumi Sriwijaya Perdana Coal</option>
                <option value="Indonesia Batu Prima Energi">Indonesia Batu Prima Energi</option>
                <option value="MNC Infrastruktur Utama">MNC Infrastruktur Utama</option>
                <option value="Putra Muba Coal">Putra Muba Coal</option>
                <option value="Global Maintenance Facility">Global Maintenance Facility</option>
                <option value="Indonesia Air Transport">Indonesia Air Transport</option>
                <option value="MNC Energy Investments">MNC Energy Investments</option>
                <option value="Suma Sarana">Suma Sarana</option>
                <option value="other">Other</option>
                </select>
        </div>
        <div class="form-group field-other" id="div_other">
            <label for="other">Other Company</label>
            <input type="text" name="other" t-att-value="other" id="other" class="form-control form-control-sm" autofocus="autofocus"
                autocapitalize="off" t-att-readonly="'readonly' if only_passwords else None"/>
        </div>
        <script type="text/javascript">
            const company = document.getElementById('company');
            const others = document.getElementById('div_other');
            others.style.display = 'none';

            company.addEventListener('change', function handleChange(event) {
                if (event.target.value === 'other') {
                    others.style.display = 'block';
                } else {
                    others.style.display = 'none';
                }
            });
        </script>
    </template>

    <template id="wbs_signup_signup" inherit_id="auth_signup.signup" name="Sign up login">
        <xpath expr="//t[@t-call='auth_signup.fields']" position="replace">
            <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
            <t t-call="mnc_wbs.wbs_signup_fields">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                <t t-set="only_passwords" t-value="bool(token and not invalid_token)"/>
            </t>
        </xpath>
    </template>

    <template id="wbs_login" inherit_id="fims_login_background_and_styles.right_login_template" name="Sign up - Reset Password">
        <xpath expr="//div[hasclass('field-login')]" position="inside">
            <span style="font-size:11px" class="text-muted">Input '<strong>wbs.</strong>' before your email <br/> to log in to your WBS account.</span>
            <span style="font-size:10.5px" class="text-muted"><br/>e.g wbs.example@email.com</span>
        </xpath>
        <xpath expr="//div[hasclass('justify-content-between')]" position="replace">
            <div class="justify-content-between mt-2 d-flex small">
                <a t-if="signup_enabled" t-attf-href="/wbs/signup?{{ keep_query() }}">Don't have a WBS account?</a>
            </div>
        </xpath>
        <xpath expr="//div[hasclass('o_login_auth')]" position="before">
			<div class="justify-content-between mt-2 d-flex small">
                <a t-if="reset_password_enabled" t-attf-href="/web/reset_password?{{ keep_query() }}">Reset
                    Password
                </a>
            </div>
        </xpath>
    </template>

    <template id="wbs_forgot_password" inherit_id="auth_signup.reset_password" name="Reset password">
        <xpath expr="//div[hasclass('field-login')]" position="inside">
            <span style="font-size:11px" class="text-muted">Input '<strong>wbs.</strong>' before your email to log in to your WBS account.</span>
        </xpath>
    </template>

    <!-- Home -->
    <template id="portal_my_home" inherit_id="portal.portal_my_home" priority="2500">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="replace">
            <div class="o_portal_docs list-group">
                <t t-call="portal.portal_docs_entry">
                    <t t-set="url">/new/wbs_report</t>
                    <t t-set="title">New Report</t>
                </t>
                <t t-call="portal.portal_docs_entry">
                    <t t-set="url">/my/wbs_report</t>
                    <t t-set="title">My Report</t>
                    <t t-set="placeholder_count" t-value="'wbs_counts'"/>
                </t>
            </div>
        </xpath>
    </template>
    <!-- End Home -->

    <!-- Breadcrumbs -->
    <template id="portal_breadcrumbs" inherit_id="portal.portal_breadcrumbs">
        <xpath expr="//li[hasclass('ml-1')]" position="replace">
            <li class="breadcrumb-item ml-1"><a href="/wbs/home" aria-label="Home" title="Home"><i class="fa fa-home"/></a></li>
        </xpath>
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
            <li t-if="page_name == 'new_report'" class="breadcrumb-item">New Report</li>
            <li t-if="page_name == 'my_report'" class="breadcrumb-item">My Report</li>
            <li t-if="page_name == 'my_report_form'" class="breadcrumb-item"><a href='/my/wbs_report'>My Report</a> / Detail</li>
        </xpath>
    </template>
    <!-- End Breadcrumbs -->

    <!-- List View -->
    <template id="portal_wbs_report_list_view">
        <t t-call="portal.portal_layout">
            <t t-call="portal.portal_table">
                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                <thead>
                    <tr class="active">
                        <th class="text-center">Report No.</th>
                        <th class="text-center">Report Title</th>
                        <th class="text-center">Business Unit</th>
                        <th class="text-center">Period of Incident</th>
                        <th class="text-center">Reported By</th>
                        <th class="text-center">Status</th>
                    </tr>
                </thead>
                <tbody>
                     <t t-foreach="wbs" t-as="item">
                        <tr>
                            <td class="text-center">
                                <a t-attf-href="/my/wbs_report_form/#{item.id}"><t t-esc="item.name"/></a>
                            </td>
                            <td class="text-center">
                                <t t-esc="item.title"/>
                            </td>
                            <td class="text-center">
                                <t t-esc="item.company_id.name"/>
                            </td>
                            <td class="text-center">
                                <t t-esc="item.start_date"/> - <t t-esc="item.end_date"/>
                            </td>
                            <td class="text-center">
                                <t t-esc="item.user_name"/>
                            </td>
                            <td class="text-center">
                                <t t-esc="item.state"/>
                            </td>
                        </tr>
                     </t>
                </tbody>
            </t>
        </t>
    </template>

    <!-- Form View -->
    <template id="portal_wbs_report_form_view" name="WBS Form View">
        <form method="post" enctype="multipart/form-data" class="oe_import">
            <t t-call="portal.portal_layout">
                
                <t t-call="portal.portal_record_layout">
                
                    <t t-set="card_body">
                        <div class="row">
                            <div class="col mb-4 mb-lg-0">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                <input type="hidden" name="state_form" id="state_form" t-att-value="wbs.state"/>
                                <div class="border-bottom d-flex justify-content-between py-2 mb-3 align-items-center">
                                    <h5 class="mb-0">
                                        <span>Report Number: </span>
                                        <span class="badge badge-info badge-pill"><span t-field="wbs.name"/></span>
                                    </h5><br/>

                                    <h5 class="mb-0 text-right">
                                        <span t-if="wbs.state == 'Draft'" class="badge badge-secondary badge-pill"><span  id="state" name="state" t-field="wbs.state"/></span>
                                        <span t-if="wbs.state == 'Submit'" class="badge badge-info badge-pill"><span  id="state" name="state" t-field="wbs.state"/></span>
                                        <span t-if="wbs.state == 'Close'" class="badge badge-success badge-pill"><span  id="state" name="state" t-field="wbs.state"/></span>
                                    </h5><br/>
                                </div>

                                <!-- Report Data -->
                                <div class="row mb-2">
                                    <strong class="col-12">Report Data</strong>
                                </div>
                                <hr/>
                                <div class="row mb-2">
                                    <strong class="col-2">Full Name:</strong>
                                    <div class="col-4">
                                        <span t-if="wbs.user_name" t-field="wbs.user_name"/>
                                        <span t-else="" class="text-muted"> - </span>
                                    </div>
                                    <strong class="col-2">Phone Number:</strong>
                                    <div class="col-4">
                                        <span t-if="wbs.user_phone" t-field="wbs.user_phone"/>
                                        <span t-else="" class="text-muted"> - </span>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <strong class="col-2">Email:</strong>
                                    <div class="col-4">
                                        <span t-if="wbs.user_email" t-field="wbs.user_email"/>
                                        <span t-else="" class="text-muted"> - </span>
                                    </div>
                                    <strong class="col-2">Company:</strong>
                                    <div class="col-4">
                                        <span t-if="wbs.user_company" t-field="wbs.user_company"/>
                                        <span t-else="" class="text-muted"> - </span>
                                    </div>
                                </div>
                                <hr/>
                                <!-- End Of Report Data -->

                                <!-- Case Reported -->
                                <div class="row mb-2">
                                    <strong class="col-12">Case Reported</strong>
                                </div>
                                <div class="row mb-2">
                                    <strong class="col-2">Report Title:</strong>
                                    <div class="col-4">
                                        <span t-if="wbs.state != 'Draft'" t-field="wbs.title"/>

                                        <input type="text" required="required" name="report_title" id="report_title" t-att-value="wbs.title" t-if="wbs.state == 'Draft'" style="width: 209px;"/>
                                    </div>
                                    <strong class="col-2">Period of Incident:</strong>
                                    <div class="col-4">
                                        <t t-if="wbs.state != 'Draft'">
                                            <span t-field="wbs.start_date"/> to <span t-field="wbs.end_date"/>
                                        </t>

                                        <t t-if="wbs.state == 'Draft'">
                                            <input required="required" type="date" id="start_date" t-att-value="wbs.start_date" style="width: 165px;"/> to <input required="required" type="date" id="end_date" t-att-value="wbs.end_date" style="width: 170px;"/> 
                                        </t>
                                    </div>
                                </div>

                                <div class="row mb-2">
                                    <strong class="col-2">Business Unit:</strong>
                                    <div class="col-4">
                                        <span id="company_id" t-field="wbs.company_id.name" t-if="wbs.state != 'Draft'"/>
                                    
                                        <select t-att-value="wbs.company_id" required="required" name='company_id_report' id="company_id_report" t-if="wbs.state == 'Draft'">
                                            <t t-foreach="company_ids" t-as="company">
                                                <option t-att-value="company.id">
                                                    <t t-esc="company.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                    <strong class="col-2">Description:</strong>
                                    <div class="col-4">
                                        <span t-field="wbs.description" id="desc_value" t-if="wbs.state != 'Draft'"/>

                                        <textarea class="required" type="text" id="description" name="description" rows="4" cols="50" t-if="wbs.state == 'Draft'"><t t-esc="wbs.description"/></textarea>
                                    </div>
                                </div>
                                <hr/>
                                
                                <!-- Attachment -->
                                <div class="row mb-2">
                                    <strong class="col-12">Attachment</strong>
                                </div>
                                <ol>
                                    <table style="padding-right:10px;padding-left:10px;">
                                        <tr>
                                            <t t-set="len_files" t-value="len(files)"/>
                                            <td id="attch_1" name="attch_1" style="padding-right:20px;" width="33%">
                                                <t t-set="file" t-value="files[0] if 0 &lt; len_files else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_1_ahref">
                                                        <a id="attachment_1_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_1" onclick="toggleVisibility('attachment_1')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_1" invisible="invisible"/>


                                                    </div>

                                                    <div id="div_Inputattachment_1">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_1" id="Inputattachment_1"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_1" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_1" id="deleted_file_1"/>

                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_2" name="attch_2" style="padding-right:20px;" width="33%">
                                                <t t-set="file" t-value="files[1] if 1 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_2_ahref">
                                                        <a id="attachment_2_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_2" onclick="toggleVisibility('attachment_2')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_2" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_2">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_2" id="Inputattachment_2"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_2" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_2" id="deleted_file_2"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_3" name="attch_3" style="padding-right:20px;" width="34%">
                                                <t t-set="file" t-value="files[2] if 2 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_3_ahref">
                                                        <a id="attachment_3_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_3" onclick="toggleVisibility('attachment_3')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_3" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_3">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_3" id="Inputattachment_3"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_3" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_3" id="deleted_file_3"/>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_4" name="attch_4" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[3] if 3 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_4_ahref">
                                                        <a id="attachment_4_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_4" onclick="toggleVisibility('attachment_4')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_4" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_4">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_4" id="Inputattachment_4"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_1" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_4" id="deleted_file_4"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_5" name="attch_5" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[4] if 4 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_5_ahref">
                                                        <a id="attachment_5_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_5" onclick="toggleVisibility('attachment_5')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_5" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_5">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_5" id="Inputattachment_5"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_5" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_5" id="deleted_file_5"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_6" name="attch_6" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[5] if 5 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_6_ahref">
                                                        <a id="attachment_6_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_6" onclick="toggleVisibility('attachment_6')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_6" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_6">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_6" id="Inputattachment_6"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_6" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_6" id="deleted_file_6"/>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_7" name="attch_7" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[6] if 6 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_7_ahref">
                                                        <a id="attachment_7_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_7" onclick="toggleVisibility('attachment_7')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_7" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_7">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_7" id="Inputattachment_7"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_7" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_7" id="deleted_file_7"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_8" name="attch_8" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[7] if 7 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_8_ahref">
                                                        <a id="attachment_8_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_8" onclick="toggleVisibility('attachment_8')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_8" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_8">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_8" id="Inputattachment_8"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_8" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_8" id="deleted_file_8"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_9" name="attch_9" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[8] if 8 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_9_ahref">
                                                        <a id="attachment_9_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_9" onclick="toggleVisibility('attachment_9')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_9" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_9">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_9" id="Inputattachment_9"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_9" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_9" id="deleted_file_9"/>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_10" name="attch_10" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[9] if 9 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_10_ahref">
                                                        <a id="attachment_10_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']" t-if="wbs.state == 'Draft'">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_10" onclick="toggleVisibility('attachment_10')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_10" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_10">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_10" id="Inputattachment_10"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_10" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_10" id="deleted_file_10"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_11" name="attch_11" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[10] if 10 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_11_ahref">
                                                        <a id="attachment_11_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']" t-if="wbs.state == 'Draft'">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_11" onclick="toggleVisibility('attachment_11')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_11" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_11">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_11" id="Inputattachment_11"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_11" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_11" id="deleted_file_11"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_12" name="attch_12" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[11] if 11 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_12_ahref">
                                                        <a id="attachment_12_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_12" onclick="toggleVisibility('attachment_12')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_12" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_12">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_12" id="Inputattachment_12"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_12" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_12" id="deleted_file_12"/>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_13" name="attch_13" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[12] if 12 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_13_ahref">
                                                        <a id="attachment_13_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_13" onclick="toggleVisibility('attachment_13')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_13" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_13">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_13" id="Inputattachment_13"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_13" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_13" id="deleted_file_13"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_14" name="attch_14" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[13] if 13 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_14_ahref">
                                                        <a id="attachment_14_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_14" onclick="toggleVisibility('attachment_14')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_14" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_14">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_14" id="Inputattachment_14"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_14" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_14" id="deleted_file_14"/>
                                                    </div>
                                                </li>
                                            </td>

                                            <td id="attch_15" name="attch_15" style="padding-right:20px;">
                                                <t t-set="file" t-value="files[14] if 14 &lt; len(files) else None"/>
                                                <li t-if="wbs.state == 'Draft' or file">
                                                    <div t-if="file and file['name']" id="div_attachment_15_ahref">
                                                        <a id="attachment_15_ahref" t-att-href="file['download_url']" t-att-download="file['download_url']">
                                                            <span t-esc="file['name']"/>
                                                        </a>
                                                        <button class="btn deleteFiles" type="button" id="attachment_15" onclick="toggleVisibility('attachment_15')" t-if="wbs.state == 'Draft'">
                                                            <i class="fa fa-trash-o"/>
                                                        </button>
                                                        <input type="hidden" t-att-value="file['id']" id="file_id_15" invisible="invisible"/>
                                                    </div>

                                                    <div id="div_Inputattachment_15">
                                                        <strong>Select files:</strong> <br/>
                                                        <input type="file" name="Inputattachment_15" id="Inputattachment_15"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_15" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                        <input type="hidden" name="deleted_file_15" id="deleted_file_15"/>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                    </table>
                                </ol>

                                <!-- Button -->
                                <div class="row mb-2">  
                                    <input  style="margin-left: 10px;" id="submit_draft" name="submit" type="submit" value="Submit" class="btn btn-primary" t-if="wbs.state == 'Draft'"/>
                                    <input  style="margin-left: 10px;" id="save_draft" name="draft" type="submit" value="Save" class="btn btn-primary" t-if="wbs.state == 'Draft'"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
            <script type="text/javascript">
                const attch = [ 
                            document.getElementById('div_Inputattachment_1'), 
                            document.getElementById('div_Inputattachment_2'),
                            document.getElementById('div_Inputattachment_3'),
                            document.getElementById('div_Inputattachment_4'),
                            document.getElementById('div_Inputattachment_5'),
                            document.getElementById('div_Inputattachment_6'),
                            document.getElementById('div_Inputattachment_7'),
                            document.getElementById('div_Inputattachment_8'),
                            document.getElementById('div_Inputattachment_9'),
                            document.getElementById('div_Inputattachment_10'),
                            document.getElementById('div_Inputattachment_11'),
                            document.getElementById('div_Inputattachment_12'),
                            document.getElementById('div_Inputattachment_13'),
                            document.getElementById('div_Inputattachment_14'),
                            document.getElementById('div_Inputattachment_15'),
                            ]
                var len_files = "<t t-esc='len(files)'/>"


                for (let i=0; i &lt; 15; i++){
                    if(i &lt; len_files){
                        attch[i].style.display = 'none';
                        var div_attch = "attachment_"+(i+1).toString()+"_ahref"   
                    }
                    else{
                        this.clearAttachment('attachment_'+(i+1).toString())
                    }
                }

                <!-- Clear Input Attachment -->
                function resetInput(id) {
                    document.getElementById("Input"+id).value="";
                }

                function toggleVisibility(buttonId) {
                    var idNum = buttonId.split('_')[1];
                    
                    var attachmentDivId = "div_attachment_" + idNum + "_ahref";
                    var inputDivId = "div_Inputattachment_" + idNum;
                    var deletedId = "deleted_file_" + idNum;
                    var fileId = "file_id_" + idNum;
                    
                    var attachmentDiv = document.getElementById(attachmentDivId);
                    var inputDiv = document.getElementById(inputDivId);
                    var deleted_file = document.getElementById(deletedId);
                    var file_id = document.getElementById(fileId);

                    if (attachmentDiv &amp;&amp; inputDiv) {
                        attachmentDiv.style.display = 'none';
                        deleted_file.value=file_id.value;
                        inputDiv.style.display = 'block';
                    }
                }
            </script>
        </form>
    </template>

    <!-- New Form -->
    <template id="new_portal_wbs_report_form_view" name="WBS New Form View">
        <form method="post" enctype="multipart/form-data" class="oe_import">
            <t t-call="portal.portal_layout">
                <t t-call="portal.portal_record_layout">
                    <t t-set="card_body">
                        <div class="row">
                            <div class="col mb-4 mb-lg-0">
                                
                                <!-- Report Data -->
                                <div class="row mb-2">
                                    <strong class="col-12">Report Data</strong>
                                </div>
                                <hr/>
                                <div class="row mb-2">
                                    <strong class="col-2">Full Name:</strong>
                                    <div class="col-4">
                                        <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                        <input type="hidden" name="name_report" id="name_report" t-att-value="request.env.user.name" readonly="readonly"/>
                                        <span t-field="request.env.user.name"/>
                                    </div>
                                    <strong class="col-2">Phone Number:</strong>
                                    <div class="col-4">
                                        <input type="hidden" id="phone_report" t-att-value="request.env.user.partner_id.phone" readonly="readonly"/>
                                        <span t-field="request.env.user.partner_id.phone"/>
                                    </div>
                                </div>
                                <div class="row mb-2">
                                    <strong class="col-2">Email:</strong>
                                    <div class="col-4">
                                        <input type="hidden" id="email_report" t-att-value="request.env.user.login" readonly="readonly"/>
                                        <span t-field="request.env.user.login"/>

                                    </div>
                                    <strong class="col-2">Company:</strong>
                                    <div class="col-4">
                                        <input type="hidden" id="company_report" t-att-value="request.env.user.company_name" readonly="readonly"/>
                                        <span t-field="request.env.user.company_name"/>
                                    </div>
                                </div>
                                <hr/>
                                <!-- End Of Report Data -->
    
                                <!-- Case Reported -->
                                <div class="row mb-2">
                                    <strong class="col-12">Case Reported</strong>
                                </div>
                                <div class="row mb-2">
                                    <strong class="col-2">Report Title:</strong>
                                    <div class="col-4">
                                        <input required="required" type="text" id="report_title" name="report_title" style="width: 210px;"/>
                                    </div>
                                    <strong class="col-2">Period of Incident:</strong>
                                    <div class="col-4">
                                        <input  required="required" type="date" id="start_date" name="start_date" style="width: 150px;"/> to <input  required="required" type="date" id="end_date" name="end_date" style="width: 150px;"/> 
                                    </div>
                                </div>
    
                                <div class="row mb-2">
                                    <strong class="col-2">Business Unit:</strong>
                                    <div class="col-4">
                                        <select required="required" name='company_id_report' id="company_id_report">
                                            <option value="" class="disabled selected">Please Choose...</option>
                                            <t t-foreach="company_ids" t-as="company">
                                                <option t-att-value="company.id">
                                                    <t t-esc="company.name"/>
                                                </option>
                                            </t>
                                        </select>
                                    </div>
                                    <strong class="col-2">Description:</strong>
                                    <div class="col-4">
                                        <textarea type="text" required="required" id="description" name="description" rows="4" cols="45"/>
                                    </div>
                                </div>
                                <hr/>

                                <!-- Attachment -->
                                <div class="row mb-2">
                                    <strong class="col-12">Attachment</strong>
                                </div>
                                <ol>
                                    <table style="padding-right:50px;padding-left:10px;">
                                        <tr>
                                            <td id="attch_1" name="attch_1" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files<sup style="color: red;">*</sup>:</label>
                                                        <input type="file" class="form-control" required="required" name="attachment_1" id="Inputattachment_1" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_1" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_2" name="attch_2"  style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_2" id="Inputattachment_2" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_2" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_3" name="attch_3" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_3" id="Inputattachment_3" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_3" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_4" name="attch_4" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_4" id="Inputattachment_4" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_4" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_5" name="attch_5" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_5" id="Inputattachment_5" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_5" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_6" name="attch_6" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_6" id="Inputattachment_6" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_6" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_7" name="attch_7" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_7" id="Inputattachment_7" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_7" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_8" name="attch_8" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_8" id="Inputattachment_8" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_8" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_9" name="attch_9" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_9" id="Inputattachment_9" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_9" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_10" name="attch_10" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_10" id="Inputattachment_10" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_10" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_11" name="attch_11" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_11" id="Inputattachment_11" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_11" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_12" name="attch_12" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_12" id="Inputattachment_12" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_12" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td id="attch_13" name="attch_13" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_13" id="Inputattachment_13" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_13" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_14" name="attch_14" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_14" id="Inputattachment_14" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_14" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                            <td id="attch_15" name="attch_15" style="padding-right:40px;">
                                                <li>
                                                    <div class="input-group mt-3">
                                                        <label style="vertical-align: text-bottom;padding-top: 6px;">Select files:</label>
                                                        <input type="file" class="form-control" name="attachment_15" id="Inputattachment_15" style="border: 0px;"/>
                                                        <button class="btn deleteFiles" type="button" id="attachment_15" onclick="resetInput(this.id)"><i class="fa fa-trash-o"/></button>
                                                    </div>
                                                </li>
                                            </td>
                                        </tr>
                                    </table>
                                </ol>
                                
                                <hr/>
                                
                                <!-- T&C -->
                                <div class="row mb-2">
                                    <strong class="col-12">Terms and Conditions</strong>
                                </div>
                                <div class="row mb-2">
                                    <textarea type="text" style="margin-left: 10px;" id="tnc" name="tnc" rows="12" cols="100" t-esc="tnc.name" readonly="readonly"/>                                    
                                </div>
                                <div class="row mb-2">
                                    <input type="checkbox" id="tnc_button" name="tnc_button" style="margin-left: 10px;" required="required"/><span style="padding-left:10px;">Saya menyetujui bahwa laporan dan rincian informasi yang diberikan kepada <strong>MNCEI</strong> diyakini kebenaran nya dapat diproses lebih lanjut oleh MNCEI dan saya bersedia diklarifikasi jika diperlukan serta dapat diungkapkan kepada lembaga penegak hukum atau otoritas pengatur, sesuai dengan keharusan yang diperlukan untuk mematuhi undang-undang, peraturan, dan ketentuan yang berlaku.</span>
                                </div>

                                <div class="row mb-2">  
                                    <input style="margin-left: 10px;" id="submit" name="submit" type="submit" value="Submit" class="btn btn-primary"/>
                                    <input style="margin-left: 10px;" id="draft" name="draft" type="submit" value="Draft" class="btn btn-primary"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </t>
            </t>
            <script type="text/javascript">
                const attch = [ 
                            document.getElementById('div_Inputattachment_1'), 
                            document.getElementById('div_Inputattachment_2'),
                            document.getElementById('div_Inputattachment_3'),
                            document.getElementById('div_Inputattachment_4'),
                            document.getElementById('div_Inputattachment_5'),
                            document.getElementById('div_Inputattachment_6'),
                            document.getElementById('div_Inputattachment_7'),
                            document.getElementById('div_Inputattachment_8'),
                            document.getElementById('div_Inputattachment_9'),
                            document.getElementById('div_Inputattachment_10'),
                            document.getElementById('div_Inputattachment_11'),
                            document.getElementById('div_Inputattachment_12'),
                            document.getElementById('div_Inputattachment_13'),
                            document.getElementById('div_Inputattachment_14'),
                            document.getElementById('div_Inputattachment_15'),
                            ]
                
                <!-- Clear Input Attachment -->
                function resetInput(id) {
                    document.getElementById("Input"+id).value="";
                }

                function toggleVisibility(buttonId) {
                    var idNum = buttonId.split('_')[1];
                    
                    var attachmentDivId = "div_attachment_" + idNum + "_ahref";
                    var inputDivId = "div_Inputattachment_" + idNum;
                    var deletedId = "deleted_file_" + idNum;
                    var fileId = "file_id_" + idNum;
                    
                    var attachmentDiv = document.getElementById(attachmentDivId);
                    var inputDiv = document.getElementById(inputDivId);
                    var deleted_file = document.getElementById(deletedId);
                    var file_id = document.getElementById(fileId);

                    if (attachmentDiv &amp;&amp; inputDiv) {
                        attachmentDiv.style.display = 'none';
                        deleted_file.value=file_id.value;
                        inputDiv.style.display = 'block';
                    }
                }
            </script>
        </form>
    </template>
</odoo>
